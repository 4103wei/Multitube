<html>
<head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <style>
* {
  box-sizing: border-box;
}

body{
  background: #333333;
}

.lcolumn {
  float: left;
  width: 90%;
  padding: 0px;
}

.rcolumn {
  float: right;
  width: 10%;
  padding: 0px;
}

.row:after {
  content: "";
  display: table;
  clear: both;
}

.button {
  border: none;
  background-color: #f44336;
  border: none;
  color: white;
  padding: 1px 3px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 12px;
}

.audio_button {
  border: none;
  background-color: white;
  color: white;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  width: 50px;
  height: 25px;
}

.choosefile {
  border: none;
  background-color: none;
  border: none;
  color: black;
  padding: 1px 3px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 10px;
}

.description{
  color: white;
  font-size: 11px;
}


    </style>
</head>


<body>
<div class="row">
    <div class="lcolumn">
        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe0" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>
        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe1" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>
        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe2" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>

        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe3" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>
        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe4" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>
        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe5" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>

        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe6" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>
        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe7" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>
        <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen frameborder="0" height="315" id="iframe8" src="https://www.youtube.com/embed/?enablejsapi=1"
                title="YouTube video player"
                width="560"></iframe>
    </div>
    <div class="rcolumn">
        <div class="description">Youtube Video IDs</div>
        <textarea id="turl_0" rows="1"></textarea>
        <textarea id="turl_1" rows="1"></textarea>
        <textarea id="turl_2" rows="1"></textarea>
        <textarea id="turl_3" rows="1"></textarea>
        <textarea id="turl_4" rows="1"></textarea>
        <textarea id="turl_5" rows="1"></textarea>
        <textarea id="turl_6" rows="1"></textarea>
        <textarea id="turl_7" rows="1"></textarea>
        <textarea id="turl_8" rows="1"></textarea>
        <button class="button" onclick="refresh()" type="button">Refresh</button>
        <button class="button" onclick="allrefresh()" type="button">Refresh All</button>
        <button class="button" onclick="download(urls, 'playlist', 'text')" type="button">Save</button>

        <br><br>
        <div class="description">Load Playlist</div>
        <input class="choosefile" onchange="readFile(this)" style='width:12em' type="file">


        <br><br>
        <div class="description">Active Audio</div>
        <div>
            <button class="audio_button" id="aud0" onclick="aud(0)" type="button"></button>
            <button class="audio_button" id="aud1" onclick="aud(1)" type="button"></button>
            <button class="audio_button" id="aud2" onclick="aud(2)" type="button"></button><br>
            <button class="audio_button" id="aud3" onclick="aud(3)" type="button"></button>
            <button class="audio_button" id="aud4" onclick="aud(4)" type="button"></button>
            <button class="audio_button" id="aud5" onclick="aud(5)" type="button"></button><br>
            <button class="audio_button" id="aud6" onclick="aud(6)" type="button"></button>
            <button class="audio_button" id="aud7" onclick="aud(7)" type="button"></button>
            <button class="audio_button" id="aud8" onclick="aud(8)" type="button"></button>
        </div>
    </div>
</div>


<script>

var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
var player0, player1, player3, player4, player5, player6, player7, player8;

function onYouTubeIframeAPIReady() {
       player0 = new YT.Player('iframe0', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
       player1 = new YT.Player('iframe1', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
      player2 = new YT.Player('iframe2', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
      player3 = new YT.Player('iframe3', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
      player4 = new YT.Player('iframe4', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
      player5 = new YT.Player('iframe5', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
      player6 = new YT.Player('iframe6', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
      player7 = new YT.Player('iframe7', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
      player8 = new YT.Player('iframe8', {
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }});
}

function onPlayerReady() {
  console.log("Player is ready.");
}
function onPlayerStateChange() {
  console.log("Player state changed.");
}


function aud(num){
    player0.mute();player1.mute();player2.mute();player3.mute();player4.mute();player5.mute();player6.mute();player7.mute();player8.mute();

	// change all button colors back to normal
	var elements = document.getElementsByClassName('audio_button'); // get all elements
	for(var i = 0; i < elements.length; i++){
		elements[i].style.backgroundColor = "white";
	}


    switch(num) {
      case 0:
	document.getElementById('aud0').style.backgroundColor = "red";
        player0.unMute();
        break;
      case 1:
	document.getElementById('aud1').style.backgroundColor = "red";
        player1.unMute();
        break;
      case 2:
	document.getElementById('aud2').style.backgroundColor = "red";
        player2.unMute();
        break;
      case 3:
	document.getElementById('aud3').style.backgroundColor = "red";
        player3.unMute();
        break;
      case 4:
	document.getElementById('aud4').style.backgroundColor = "red";
        player4.unMute();
        break;
      case 5:
	document.getElementById('aud5').style.backgroundColor = "red";
        player5.unMute();
        break;
      case 6:
	document.getElementById('aud6').style.backgroundColor = "red";
        player6.unMute();
        break;
      case 7:
	document.getElementById('aud7').style.backgroundColor = "red";
        player7.unMute();
        break;
      case 8:
	document.getElementById('aud8').style.backgroundColor = "red";
        player8.unMute();
        break;
      default:
        break;
    }
}




let urls = ['','','','','','','','','']

function readFile(input) {
	let file = input.files[0];
	let reader = new FileReader();
	reader.readAsText(file);
	reader.onload = function() {
		var arr = reader.result.split(",");
		var i;
		for (i = 0; i < 9; i++) {
			document.getElementById("turl_" + String(i)).value = arr[i]
		}
		refresh();
  	};
}

function refresh() {
	var i;
	for (i = 0; i < 9; i++) {
		if (urls[i] != String(document.getElementById("turl_" + String(i)).value)){
			urls[i] = String(document.getElementById("turl_" + String(i)).value);
			document.getElementById("iframe" + String(i)).src = "https://www.youtube.com/embed/" + urls[i] + "?enablejsapi=1&autoplay=1&vq=medium&mute=1&controls=0&showinfo=0&cc_load_policy=0"
		}
	}
}

function allrefresh() {
	var i;
	for (i = 0; i < 9; i++) {
		urls[i] = String(document.getElementById("turl_" + String(i)).value);
		document.getElementById("iframe" + String(i)).src = "https://www.youtube.com/embed/" + urls[i] + "?enablejsapi=1&autoplay=1&vq=medium&mute=1&controls=0&showinfo=0&cc_load_policy=0"
	}
}

function download(data, filename, type) {
    var file = new Blob([data], {type: type});
    if (window.navigator.msSaveOrOpenBlob) // IE10+
        window.navigator.msSaveOrOpenBlob(file, filename);
    else { // Others
        var a = document.createElement("a"), url = URL.createObjectURL(file);
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        setTimeout(function() {
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);  
        }, 0); 
    }
}






</script>
</body>
</html>
